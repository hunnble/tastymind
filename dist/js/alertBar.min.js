function AlertBar(t){this.className=t.className||{alertWindow:"",title:"",content:"",btns:{}},this.titleTxt=t.titleTxt||"Default title",this.contentTxt=t.contentTxt||"Default content",this.btnsTxt=t.btns||{},this.hasShader=t.hasShader||!1,this.isShow=t.isShow||!1,this.width=t.width||400,this.height=t.height||300,this.drag=t.drag||!1,this.flexible=t.flexible||!1,this.returnValues=t.returnValues||[],this.shader=document.createElement("div"),this.alertWindow=document.createElement("div"),this.title=document.createElement("h4"),this.content=document.createElement("p"),this.input=document.createElement("input"),this.input.type="text",this.btnBar=document.createElement("div"),this.btns=[],this.startX=0,this.startY=0,this.returnValue,this.bindEvents()}AlertBar.prototype.render=function(){var t=this.shader,e=this.alertWindow,i=this.title,n=this.content,s=(this.input,this.btnBar),o=this.btns,a=document.createElement("div");t.className=this.className.shader,t.style.width="100%",t.style.height=document.body.offsetHeight+"px",t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display=this.isShow?"block":"none",this.hasShader||(t.style.backgroundColor="inherit"),a.appendChild(t),e.className=this.className.alertWindow,e.style.width=this.width+"px",e.style.height=this.height+"px",e.style.position="fixed",e.style.top=window.innerHeight/2+"px",e.style.left=window.innerWidth/2+"px",e.style.marginLeft=this.width/-2+"px",e.style.marginTop=this.height/-2+"px",i.className=this.className.title,i.innerHTML=this.titleTxt,n.className=this.className.content,n.innerHTML=this.contentTxt,s.innerHTML="";for(var l in this.btnsTxt)o[l]=document.createElement("div"),o[l].className=this.className.btn,o[l].innerHTML=this.btnsTxt[l],s.appendChild(o[l]);return s.style.position="absolute",s.style.right=0,s.style.bottom="10px",e.appendChild(i),e.appendChild(n),e.appendChild(s),t.appendChild(e),t},AlertBar.prototype.toggle=function(){this.isShow=!this.isShow,this.render()},AlertBar.prototype.bindEvents=function(){function t(t){t=t||window.event,e.alertWindow.style.left=t.clientX-e.startX+e.alertWindow.offsetWidth/2+"px",e.alertWindow.style.top=t.clientY-e.startY+e.alertWindow.offsetHeight/2+"px";var i=document.body||document.documentElement;e.alertWindow.offsetTop>window.innerHeight-e.alertWindow.offsetHeight&&(e.alertWindow.style.top=window.innerHeight-e.alertWindow.offsetHeight+e.alertWindow.offsetHeight/2+"px"),e.alertWindow.offsetTop<0&&(e.alertWindow.style.top=e.alertWindow.offsetHeight/2+"px"),e.alertWindow.offsetLeft>i.offsetWidth-e.alertWindow.offsetWidth&&(e.alertWindow.style.left=i.offsetWidth-e.alertWindow.offsetWidth+e.alertWindow.offsetWidth/2+"px"),e.alertWindow.offsetLeft<0&&(e.alertWindow.style.left=e.alertWindow.offsetWidth/2+"px")}var e=this;addHandler(this.shader,"mousedown",function(t){var i=getTarget(t);i===e.shader&&e.toggle()}),addHandler(this.btnBar,"click",function(t){var i=getTarget(t),n=-1;hasClassName(i,e.className.btn)&&(n=Array.prototype.indexOf.call(e.btnBar.querySelectorAll("div"),i),e.toggle(),e.returnValue=e.returnValues[n])}),this.drag&&(addHandler(this.title,"mousedown",function(i){i=i||window.event,e.startX=i.clientX-e.alertWindow.offsetLeft,e.startY=i.clientY-e.alertWindow.offsetTop,addHandler(e.alertWindow,"mousemove",t)}),addHandler(document,"mouseup",function(i){i=i||window.event,removeHandler(e.alertWindow,"mousemove",t)}))};